\doxysection{Book.\+cs}
\label{_book_8cs_source}\index{ce103-\/hw3-\/melih-\/divan/librarian-\/app-\/dll/Book.cs@{ce103-\/hw3-\/melih-\/divan/librarian-\/app-\/dll/Book.cs}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{keyword}{using }System;}
\DoxyCodeLine{00002 \textcolor{keyword}{using }System.Collections.Generic;}
\DoxyCodeLine{00003 }
\DoxyCodeLine{00004 \textcolor{keyword}{namespace }LibraryManagement}
\DoxyCodeLine{00005 \{}
\DoxyCodeLine{00006     \textcolor{keyword}{public} \textcolor{keyword}{class }Book}
\DoxyCodeLine{00007     \{}
\DoxyCodeLine{00008 \textcolor{preprocessor}{        \#region Public Constants}}
\DoxyCodeLine{00009         \textcolor{keyword}{public} \textcolor{keyword}{const} \textcolor{keywordtype}{int} ID\_LENGTH = 4;}
\DoxyCodeLine{00010 }
\DoxyCodeLine{00011         \textcolor{keyword}{public} \textcolor{keyword}{const} \textcolor{keywordtype}{int} TITLE\_MAX\_LENGTH = 100;}
\DoxyCodeLine{00012 }
\DoxyCodeLine{00013         \textcolor{keyword}{public} \textcolor{keyword}{const} \textcolor{keywordtype}{int} DESCRIPTION\_MAX\_LENGTH = 300;}
\DoxyCodeLine{00014 }
\DoxyCodeLine{00015         \textcolor{keyword}{public} \textcolor{keyword}{const} \textcolor{keywordtype}{int} AUTHORS\_MAX\_COUNT = 5;}
\DoxyCodeLine{00016         \textcolor{keyword}{public} \textcolor{keyword}{const} \textcolor{keywordtype}{int} AUTHORS\_NAME\_MAX\_LENGTH = 100;}
\DoxyCodeLine{00017 }
\DoxyCodeLine{00018         \textcolor{keyword}{public} \textcolor{keyword}{const} \textcolor{keywordtype}{int} CATEGORY\_MAX\_COUNT = 5;}
\DoxyCodeLine{00019         \textcolor{keyword}{public} \textcolor{keyword}{const} \textcolor{keywordtype}{int} CATEGORY\_NAME\_MAX\_LENGTH = 100;}
\DoxyCodeLine{00020 }
\DoxyCodeLine{00021         \textcolor{keyword}{public} \textcolor{keyword}{const} \textcolor{keywordtype}{int} BOOK\_DATA\_BLOCK\_SIZE = ID\_LENGTH +}
\DoxyCodeLine{00022                                                 TITLE\_MAX\_LENGTH +}
\DoxyCodeLine{00023                                                 DESCRIPTION\_MAX\_LENGTH +}
\DoxyCodeLine{00024                                                 (AUTHORS\_MAX\_COUNT * AUTHORS\_NAME\_MAX\_LENGTH) +}
\DoxyCodeLine{00025                                                 (CATEGORY\_MAX\_COUNT * CATEGORY\_NAME\_MAX\_LENGTH);}
\DoxyCodeLine{00026 \textcolor{preprocessor}{        \#endregion}}
\DoxyCodeLine{00027 }
\DoxyCodeLine{00028 \textcolor{preprocessor}{        \#region Private Fields}}
\DoxyCodeLine{00029         \textcolor{keyword}{private} \textcolor{keywordtype}{int} \_id;}
\DoxyCodeLine{00030         \textcolor{keyword}{private} \textcolor{keywordtype}{string} \_title;}
\DoxyCodeLine{00031         \textcolor{keyword}{private} \textcolor{keywordtype}{string} \_description;}
\DoxyCodeLine{00032         \textcolor{keyword}{private} List<string> \_authors;}
\DoxyCodeLine{00033         \textcolor{keyword}{private} List<string> \_categories;}
\DoxyCodeLine{00034 \textcolor{preprocessor}{        \#endregion}}
\DoxyCodeLine{00035 }
\DoxyCodeLine{00036 \textcolor{preprocessor}{        \#region Public Properties}}
\DoxyCodeLine{00037         \textcolor{keyword}{public} \textcolor{keywordtype}{int} Id \{ \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \_id; \} \textcolor{keyword}{set} \{ \_id = value; \} \}}
\DoxyCodeLine{00038         \textcolor{keyword}{public} \textcolor{keywordtype}{string} Title \{ \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \_title; \} \textcolor{keyword}{set} \{ \_title = value; \} \}}
\DoxyCodeLine{00039         \textcolor{keyword}{public} \textcolor{keywordtype}{string} Description \{ \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \_description; \} \textcolor{keyword}{set} \{ \_description = value; \} \}}
\DoxyCodeLine{00040         \textcolor{keyword}{public} List<string> Authors \{ \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \_authors; \} \textcolor{keyword}{set} \{ \_authors = value; \} \}}
\DoxyCodeLine{00041         \textcolor{keyword}{public} List<string> Categories \{ \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \_categories; \} \textcolor{keyword}{set} \{ \_categories = value; \} \}}
\DoxyCodeLine{00042 \textcolor{preprocessor}{        \#endregion}}
\DoxyCodeLine{00043 }
\DoxyCodeLine{00044 \textcolor{preprocessor}{        \#region Constructors}}
\DoxyCodeLine{00045         \textcolor{keyword}{public} Book()}
\DoxyCodeLine{00046         \{}
\DoxyCodeLine{00047             \_authors = \textcolor{keyword}{new} List<string>();}
\DoxyCodeLine{00048             \_categories = \textcolor{keyword}{new} List<string>();}
\DoxyCodeLine{00049         \}}
\DoxyCodeLine{00050 \textcolor{preprocessor}{        \#endregion}}
\DoxyCodeLine{00051 }
\DoxyCodeLine{00052 \textcolor{preprocessor}{        \#region Utility Methods}}
\DoxyCodeLine{00053         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{byte}[] BookToByteArrayBlock(Book book)}
\DoxyCodeLine{00054         \{}
\DoxyCodeLine{00055             \textcolor{keywordtype}{int} index = 0;}
\DoxyCodeLine{00056 }
\DoxyCodeLine{00057             \textcolor{keywordtype}{byte}[] dataBuffer = \textcolor{keyword}{new} \textcolor{keywordtype}{byte}[BOOK\_DATA\_BLOCK\_SIZE];}
\DoxyCodeLine{00058 }
\DoxyCodeLine{00059 \textcolor{preprocessor}{            \#region copy book id}}
\DoxyCodeLine{00060             \textcolor{keywordtype}{byte}[] idBytes = ConversionUtility.IntegerToByteArray(book.Id);}
\DoxyCodeLine{00061             Array.Copy(idBytes, 0, dataBuffer, index, idBytes.Length);}
\DoxyCodeLine{00062             index += Book.ID\_LENGTH;}
\DoxyCodeLine{00063 \textcolor{preprocessor}{            \#endregion}}
\DoxyCodeLine{00064 }
\DoxyCodeLine{00065 \textcolor{preprocessor}{            \#region copy book title}}
\DoxyCodeLine{00066             \textcolor{keywordtype}{byte}[] titleBytes = ConversionUtility.StringToByteArray(book.Title);}
\DoxyCodeLine{00067             Array.Copy(titleBytes, 0, dataBuffer, index, titleBytes.Length);}
\DoxyCodeLine{00068             index += Book.TITLE\_MAX\_LENGTH;}
\DoxyCodeLine{00069 \textcolor{preprocessor}{            \#endregion}}
\DoxyCodeLine{00070 }
\DoxyCodeLine{00071 \textcolor{preprocessor}{            \#region copy book description}}
\DoxyCodeLine{00072             \textcolor{keywordtype}{byte}[] descBytes = ConversionUtility.StringToByteArray(book.Description);}
\DoxyCodeLine{00073             Array.Copy(descBytes, 0, dataBuffer, index, descBytes.Length);}
\DoxyCodeLine{00074             index += Book.DESCRIPTION\_MAX\_LENGTH;}
\DoxyCodeLine{00075 \textcolor{preprocessor}{            \#endregion}}
\DoxyCodeLine{00076 }
\DoxyCodeLine{00077 \textcolor{preprocessor}{            \#region copy book authors}}
\DoxyCodeLine{00078             \textcolor{keywordtype}{byte}[] authorBytes = ConversionUtility.StringListToByteArray(book.Authors,}
\DoxyCodeLine{00079                                                                             Book.AUTHORS\_MAX\_COUNT,}
\DoxyCodeLine{00080                                                                             Book.AUTHORS\_NAME\_MAX\_LENGTH);}
\DoxyCodeLine{00081             Array.Copy(authorBytes, 0, dataBuffer, index, authorBytes.Length);}
\DoxyCodeLine{00082             index += authorBytes.Length; \textcolor{comment}{//Here we can use also Book.AUTHORS\_MAX\_COUNT * Book.AUTHORS\_NAME\_MAX\_LENGTH}}
\DoxyCodeLine{00083 \textcolor{preprocessor}{            \#endregion}}
\DoxyCodeLine{00084 }
\DoxyCodeLine{00085 }
\DoxyCodeLine{00086 \textcolor{preprocessor}{            \#region copy book categories}}
\DoxyCodeLine{00087             \textcolor{keywordtype}{byte}[] categoryBytes = ConversionUtility.StringListToByteArray(book.Categories,}
\DoxyCodeLine{00088                                                                             Book.CATEGORY\_MAX\_COUNT,}
\DoxyCodeLine{00089                                                                             Book.CATEGORY\_NAME\_MAX\_LENGTH);}
\DoxyCodeLine{00090             Array.Copy(categoryBytes, 0, dataBuffer, index, categoryBytes.Length);}
\DoxyCodeLine{00091             index += categoryBytes.Length; \textcolor{comment}{//Here we can use also Book.CATEGORY\_MAX\_COUNT * Book.CATEGORY\_NAME\_MAX\_LENGTH}}
\DoxyCodeLine{00092 \textcolor{preprocessor}{            \#endregion}}
\DoxyCodeLine{00093 }
\DoxyCodeLine{00094             \textcolor{keywordflow}{if} (index != dataBuffer.Length)}
\DoxyCodeLine{00095             \{}
\DoxyCodeLine{00096                 \textcolor{keywordflow}{throw} \textcolor{keyword}{new} ArgumentException(\textcolor{stringliteral}{"{}Index and DataBuffer Size Not Matched"{}});}
\DoxyCodeLine{00097             \}}
\DoxyCodeLine{00098 }
\DoxyCodeLine{00099             \textcolor{keywordflow}{return} dataBuffer;}
\DoxyCodeLine{00100         \}}
\DoxyCodeLine{00101 }
\DoxyCodeLine{00102         \textcolor{keyword}{public} \textcolor{keyword}{static} Book ByteArrayBlockToBook(\textcolor{keywordtype}{byte}[] byteArray)}
\DoxyCodeLine{00103         \{}
\DoxyCodeLine{00104 }
\DoxyCodeLine{00105             Book book = \textcolor{keyword}{new} Book();}
\DoxyCodeLine{00106 }
\DoxyCodeLine{00107             \textcolor{keywordflow}{if} (byteArray.Length != BOOK\_DATA\_BLOCK\_SIZE)}
\DoxyCodeLine{00108             \{}
\DoxyCodeLine{00109                 \textcolor{keywordflow}{throw} \textcolor{keyword}{new} ArgumentException(\textcolor{stringliteral}{"{}Byte Array Size Not Match with Constant Data Block Size"{}});}
\DoxyCodeLine{00110             \}}
\DoxyCodeLine{00111 }
\DoxyCodeLine{00112             \textcolor{keywordtype}{int} index = 0;}
\DoxyCodeLine{00113 }
\DoxyCodeLine{00114             \textcolor{comment}{//byte[] dataBuffer = new byte[BOOK\_DATA\_BLOCK\_SIZE];}}
\DoxyCodeLine{00115 }
\DoxyCodeLine{00116 \textcolor{preprocessor}{            \#region copy book id}}
\DoxyCodeLine{00117             \textcolor{keywordtype}{byte}[] idBytes = \textcolor{keyword}{new} \textcolor{keywordtype}{byte}[Book.ID\_LENGTH];}
\DoxyCodeLine{00118             Array.Copy(byteArray, index, idBytes, 0, idBytes.Length);}
\DoxyCodeLine{00119             book.Id = ConversionUtility.ByteArrayToInteger(idBytes);}
\DoxyCodeLine{00120 }
\DoxyCodeLine{00121             index += Book.ID\_LENGTH;}
\DoxyCodeLine{00122 \textcolor{preprocessor}{            \#endregion}}
\DoxyCodeLine{00123 }
\DoxyCodeLine{00124 \textcolor{preprocessor}{            \#region copy book title}}
\DoxyCodeLine{00125             \textcolor{keywordtype}{byte}[] titleBytes = \textcolor{keyword}{new} \textcolor{keywordtype}{byte}[Book.TITLE\_MAX\_LENGTH];}
\DoxyCodeLine{00126             Array.Copy(byteArray, index, titleBytes, 0, titleBytes.Length);}
\DoxyCodeLine{00127             book.Title = ConversionUtility.ByteArrayToString(titleBytes);}
\DoxyCodeLine{00128 }
\DoxyCodeLine{00129             index += Book.TITLE\_MAX\_LENGTH;}
\DoxyCodeLine{00130 \textcolor{preprocessor}{            \#endregion}}
\DoxyCodeLine{00131 }
\DoxyCodeLine{00132 \textcolor{preprocessor}{            \#region copy book description}}
\DoxyCodeLine{00133             \textcolor{keywordtype}{byte}[] descBytes = \textcolor{keyword}{new} \textcolor{keywordtype}{byte}[Book.DESCRIPTION\_MAX\_LENGTH];}
\DoxyCodeLine{00134             Array.Copy(byteArray, index, descBytes, 0, descBytes.Length);}
\DoxyCodeLine{00135             book.Description = ConversionUtility.ByteArrayToString(descBytes);}
\DoxyCodeLine{00136 }
\DoxyCodeLine{00137             index += Book.DESCRIPTION\_MAX\_LENGTH;}
\DoxyCodeLine{00138 \textcolor{preprocessor}{            \#endregion}}
\DoxyCodeLine{00139 }
\DoxyCodeLine{00140 \textcolor{preprocessor}{            \#region copy book authors}}
\DoxyCodeLine{00141 }
\DoxyCodeLine{00142             \textcolor{keywordtype}{byte}[] authorBytes = \textcolor{keyword}{new} \textcolor{keywordtype}{byte}[Book.AUTHORS\_MAX\_COUNT * Book.AUTHORS\_NAME\_MAX\_LENGTH];}
\DoxyCodeLine{00143 }
\DoxyCodeLine{00144             Array.Copy(byteArray, index, authorBytes, 0, authorBytes.Length);}
\DoxyCodeLine{00145 }
\DoxyCodeLine{00146             book.Authors = ConversionUtility.ByteArrayToStringList(authorBytes,}
\DoxyCodeLine{00147                                                                             Book.AUTHORS\_MAX\_COUNT,}
\DoxyCodeLine{00148                                                                             Book.AUTHORS\_NAME\_MAX\_LENGTH);}
\DoxyCodeLine{00149 }
\DoxyCodeLine{00150             index += authorBytes.Length;}
\DoxyCodeLine{00151 \textcolor{preprocessor}{            \#endregion}}
\DoxyCodeLine{00152 }
\DoxyCodeLine{00153 }
\DoxyCodeLine{00154 \textcolor{preprocessor}{            \#region copy book categories}}
\DoxyCodeLine{00155             \textcolor{keywordtype}{byte}[] categoryBytes = \textcolor{keyword}{new} \textcolor{keywordtype}{byte}[Book.CATEGORY\_MAX\_COUNT * Book.CATEGORY\_NAME\_MAX\_LENGTH];}
\DoxyCodeLine{00156 }
\DoxyCodeLine{00157             Array.Copy(byteArray, index, categoryBytes, 0, categoryBytes.Length);}
\DoxyCodeLine{00158 }
\DoxyCodeLine{00159             book.Categories = ConversionUtility.ByteArrayToStringList(categoryBytes,}
\DoxyCodeLine{00160                                                                             Book.CATEGORY\_MAX\_COUNT,}
\DoxyCodeLine{00161                                                                             Book.CATEGORY\_NAME\_MAX\_LENGTH);}
\DoxyCodeLine{00162 }
\DoxyCodeLine{00163             index += categoryBytes.Length;}
\DoxyCodeLine{00164 \textcolor{preprocessor}{            \#endregion}}
\DoxyCodeLine{00165 }
\DoxyCodeLine{00166             \textcolor{keywordflow}{if} (index != byteArray.Length)}
\DoxyCodeLine{00167             \{}
\DoxyCodeLine{00168                 \textcolor{keywordflow}{throw} \textcolor{keyword}{new} ArgumentException(\textcolor{stringliteral}{"{}Index and DataBuffer Size Not Matched"{}});}
\DoxyCodeLine{00169             \}}
\DoxyCodeLine{00170 }
\DoxyCodeLine{00171             \textcolor{keywordflow}{if} (book.Id == 0)}
\DoxyCodeLine{00172             \{}
\DoxyCodeLine{00173                 \textcolor{keywordflow}{return} \textcolor{keyword}{null};}
\DoxyCodeLine{00174             \}}
\DoxyCodeLine{00175             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00176             \{}
\DoxyCodeLine{00177                 \textcolor{keywordflow}{return} book;}
\DoxyCodeLine{00178             \}}
\DoxyCodeLine{00179 }
\DoxyCodeLine{00180         \}}
\DoxyCodeLine{00181 \textcolor{preprocessor}{        \#endregion}}
\DoxyCodeLine{00182 }
\DoxyCodeLine{00183     \}}
\DoxyCodeLine{00184 }
\DoxyCodeLine{00185 \}}

\end{DoxyCode}
