\doxysection{Library\+Manager.\+cs}
\label{_library_manager_8cs_source}\index{ce103-\/hw3-\/melih-\/divan/librarian-\/app-\/dll/LibraryManager.cs@{ce103-\/hw3-\/melih-\/divan/librarian-\/app-\/dll/LibraryManager.cs}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{keyword}{using }System;}
\DoxyCodeLine{00002 \textcolor{keyword}{using }System.Collections.Generic;}
\DoxyCodeLine{00003 \textcolor{keyword}{using }System.Linq;}
\DoxyCodeLine{00004 \textcolor{keyword}{using }System.Text;}
\DoxyCodeLine{00005 \textcolor{keyword}{using }System.IO;}
\DoxyCodeLine{00006 \textcolor{keyword}{using }static System.Console;}
\DoxyCodeLine{00007 \textcolor{keyword}{using }System.Threading.Tasks;}
\DoxyCodeLine{00008 \textcolor{keyword}{using }System.Runtime.CompilerServices;}
\DoxyCodeLine{00009 \textcolor{keyword}{using }System.Diagnostics;}
\DoxyCodeLine{00010 }
\DoxyCodeLine{00011 \textcolor{keyword}{namespace }LibraryManagement}
\DoxyCodeLine{00012 \{}
\DoxyCodeLine{00013     \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keyword}{class }LibraryManager}
\DoxyCodeLine{00014     \{}
\DoxyCodeLine{00015         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{bool} IsNumeric(\textcolor{keywordtype}{object} Expression)}
\DoxyCodeLine{00016         \{}
\DoxyCodeLine{00017             \textcolor{keywordtype}{double} retNum;}
\DoxyCodeLine{00018 }
\DoxyCodeLine{00019             \textcolor{keywordtype}{bool} isNum = Double.TryParse(Convert.ToString(Expression), System.Globalization.NumberStyles.Any, System.Globalization.NumberFormatInfo.InvariantInfo, out retNum);}
\DoxyCodeLine{00020             \textcolor{keywordflow}{return} isNum;}
\DoxyCodeLine{00021         \}}
\DoxyCodeLine{00022 }
\DoxyCodeLine{00023         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} InsertBook(Book book)}
\DoxyCodeLine{00024         \{}
\DoxyCodeLine{00025             \textcolor{keywordtype}{string} path = AppDomain.CurrentDomain.BaseDirectory;}
\DoxyCodeLine{00026             \textcolor{keywordtype}{string} filename = Path.Combine(path, \textcolor{stringliteral}{"{}library.dat"{}});}
\DoxyCodeLine{00027 }
\DoxyCodeLine{00028             \textcolor{keywordtype}{byte}[] bookBytes = Book.BookToByteArrayBlock(book);}
\DoxyCodeLine{00029             FileUtility.AppendBlock(bookBytes, filename);}
\DoxyCodeLine{00030         \}}
\DoxyCodeLine{00031 }
\DoxyCodeLine{00032         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} UpdateBook(Book book, \textcolor{keywordtype}{int} booknumber)}
\DoxyCodeLine{00033         \{}
\DoxyCodeLine{00034             \textcolor{keywordtype}{string} path = AppDomain.CurrentDomain.BaseDirectory;}
\DoxyCodeLine{00035             \textcolor{keywordtype}{string} filename = Path.Combine(path, \textcolor{stringliteral}{"{}library.dat"{}});}
\DoxyCodeLine{00036 }
\DoxyCodeLine{00037             \textcolor{keywordtype}{byte}[] bookBytes = Book.BookToByteArrayBlock(book);}
\DoxyCodeLine{00038             FileUtility.UpdateBlock(bookBytes, booknumber, Book.BOOK\_DATA\_BLOCK\_SIZE, filename);}
\DoxyCodeLine{00039         \}}
\DoxyCodeLine{00040 }
\DoxyCodeLine{00041         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} DeleteBook(\textcolor{keywordtype}{int} booknumber)}
\DoxyCodeLine{00042         \{}
\DoxyCodeLine{00043             \textcolor{keywordtype}{string} path = AppDomain.CurrentDomain.BaseDirectory;}
\DoxyCodeLine{00044             \textcolor{keywordtype}{string} filename = Path.Combine(path, \textcolor{stringliteral}{"{}library.dat"{}});}
\DoxyCodeLine{00045 }
\DoxyCodeLine{00046             \textcolor{keyword}{using} (StreamReader sr = \textcolor{keyword}{new} StreamReader(File.Open(\textcolor{stringliteral}{"{}library.dat"{}}, FileMode.Open)))}
\DoxyCodeLine{00047             \{}
\DoxyCodeLine{00048                 \textcolor{keywordtype}{string} datalength = sr.ReadLine();}
\DoxyCodeLine{00049                 sr.Close();}
\DoxyCodeLine{00050                 FileUtility.DeleteBlock(booknumber, Book.BOOK\_DATA\_BLOCK\_SIZE, filename);}
\DoxyCodeLine{00051                 \textcolor{keywordflow}{do}}
\DoxyCodeLine{00052                 \{}
\DoxyCodeLine{00053                     \textcolor{keywordtype}{byte}[] nextbookbytes = FileUtility.ReadBlock(booknumber + 1, Book.BOOK\_DATA\_BLOCK\_SIZE, filename);}
\DoxyCodeLine{00054                     FileUtility.UpdateBlock(nextbookbytes, booknumber, Book.BOOK\_DATA\_BLOCK\_SIZE, filename);}
\DoxyCodeLine{00055                     booknumber++;}
\DoxyCodeLine{00056                 \} \textcolor{keywordflow}{while} (booknumber <= (((datalength.Length) / (Book.BOOK\_DATA\_BLOCK\_SIZE)) -\/ 1));}
\DoxyCodeLine{00057 }
\DoxyCodeLine{00058                 FileUtility.DeleteBlock(((datalength.Length) / (Book.BOOK\_DATA\_BLOCK\_SIZE)), Book.BOOK\_DATA\_BLOCK\_SIZE, filename);}
\DoxyCodeLine{00059             \}}
\DoxyCodeLine{00060         \}}
\DoxyCodeLine{00061         }
\DoxyCodeLine{00062         \textcolor{keyword}{public} \textcolor{keyword}{static} Book ReadBook(\textcolor{keywordtype}{int} booknumber)}
\DoxyCodeLine{00063         \{}
\DoxyCodeLine{00064             \textcolor{keywordtype}{string} path = AppDomain.CurrentDomain.BaseDirectory;}
\DoxyCodeLine{00065             \textcolor{keywordtype}{string} filename = Path.Combine(path, \textcolor{stringliteral}{"{}library.dat"{}});}
\DoxyCodeLine{00066 }
\DoxyCodeLine{00067             \textcolor{keywordtype}{byte}[] bookWrittenBytesforBorrow = FileUtility.ReadBlock(booknumber, Book.BOOK\_DATA\_BLOCK\_SIZE, filename);}
\DoxyCodeLine{00068             Book bookWrittenObject = Book.ByteArrayBlockToBook(bookWrittenBytesforBorrow);}
\DoxyCodeLine{00069             \textcolor{keywordflow}{return} bookWrittenObject;}
\DoxyCodeLine{00070         \}}
\DoxyCodeLine{00071     \}}
\DoxyCodeLine{00072 \}}

\end{DoxyCode}
